<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Paramètres Aviator Bot</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      background-color: #1a1a2e;
      color: white;
      font-family: Arial, sans-serif;
      padding: 15px;
      width: 320px;
    }

    h1 {
      text-align: center;
      color: #a29bfe;
    }

    .settings-section {
      margin-bottom: 20px;
    }

    h2 {
      font-size: 18px;
      color: #a29bfe;
    }

    label {
      font-size: 14px;
      margin-bottom: 5px;
      display: block;
    }

    select, input[type="number"], input[type="checkbox"], input[type="range"], button {
      padding: 10px;
      width: 100%;
      border-radius: 5px;
      border: none;
      background-color: #2c2c54;
      color: white;
    }

    button {
      margin-top: 20px;
      background-color: #6c5ce7;
      cursor: pointer;
    }

    .back-btn {
      margin-top: 10px;
      background-color: #d63031;
    }

    .actions {
      text-align: center;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="options-container">
    <h1>Paramètres Avancés</h1>

    <!-- Stratégie de Jeu -->
    <div class="settings-section">
      <h2>Stratégie de Jeu</h2>
      <div class="form-group">
        <label for="strategy">Stratégie:</label>
        <select id="strategy">
          <option value="quick">Rapide</option>
          <option value="medium">Moyenne</option>
          <option value="long">Long terme</option>
        </select>
      </div>
    </div>

    <!-- Objectif à atteindre -->
    <div class="settings-section">
      <h2>Objectif Financier</h2>
      <div class="form-group">
        <label for="target-goal">Objectif à atteindre (FCFA):</label>
        <input type="number" id="target-goal" placeholder="Ex : 50000" />
      </div>
    </div>

    <!-- Mise de départ -->
    <div class="settings-section">
      <h2>Mise de départ</h2>
      <div class="form-group">
        <label for="starting-bet">Mise de départ (FCFA):</label>
        <input type="number" id="starting-bet" placeholder="Ex : 1000" />
      </div>
    </div>

    <!-- Mode automatique -->
    <div class="settings-section">
      <h2>Mode Automatique</h2>
      <div class="form-group">
        <label for="auto-mode">Activer le mode automatique :</label>
        <select id="auto-mode">
          <option value="true">Oui</option>
          <option value="false">Non</option>
        </select>
      </div>
    </div>

    <div class="actions">
      <button id="save-btn">Enregistrer</button>
      <button class="back-btn" id="back-btn">Retour</button>
    </div>
  </div>

  <script src="options.js"></script>
  <script>
    // Charger les paramètres actuels depuis chrome.storage.local
    chrome.storage.local.get(['strategy', 'targetGoal', 'startingBet', 'autoMode'], (data) => {
      if (data.strategy) {
        document.getElementById('strategy').value = data.strategy;
      }
      if (data.targetGoal) {
        document.getElementById('target-goal').value = data.targetGoal;
      }
      if (data.startingBet) {
        document.getElementById('starting-bet').value = data.startingBet;
      }
      if (data.autoMode !== undefined) {
        document.getElementById('auto-mode').value = data.autoMode.toString();
      }
    });

    // Sauvegarder les paramètres lorsqu'on clique sur le bouton
    document.getElementById('save-btn').addEventListener('click', () => {
      const strategy = document.getElementById('strategy').value;
      const targetGoal = parseInt(document.getElementById('target-goal').value);
      const startingBet = parseInt(document.getElementById('starting-bet').value);
      const autoMode = document.getElementById('auto-mode').value === 'true';

      if (!targetGoal || !startingBet) {
        alert("Veuillez entrer des valeurs valides pour l'objectif et la mise.");
        return;
      }

      // Sauvegarder les paramètres dans chrome.storage.local
      chrome.storage.local.set({ strategy, targetGoal, startingBet, autoMode }, () => {
        alert("Paramètres enregistrés avec succès!");
        // Rediriger l'utilisateur vers la page principale du bot après l'enregistrement
        window.location.href = '../popup/index.html';  // Vérifie le bon chemin d'accès
      });
    });

    // Bouton retour
    document.getElementById('back-btn').addEventListener('click', () => {
      window.location.href = '../popup/index.html';  // Vérifie le bon chemin d'accès
    });
  </script>
</body>
</html>
